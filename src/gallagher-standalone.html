<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallagher Art School - Signup</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom Tailwind Config */
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .backdrop-blur-sm {
            backdrop-filter: blur(4px);
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;

        // Supabase Configuration
        const SUPABASE_URL = 'YOUR_SUPABASE_URL';
        const SUPABASE_ANON_KEY = 'YOUR_SUPABASE_ANON_KEY';
        
        // Initialize Supabase client
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // Postmark Configuration
        const POSTMARK_API_TOKEN = 'YOUR_POSTMARK_API_TOKEN';
        const POSTMARK_FROM_EMAIL = 'noreply@gallagherartschool.com';

        // Lucide Icons (simplified SVG)
        const User = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
            </svg>
        );

        const Palette = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="13.5" cy="6.5" r=".5"/>
                <circle cx="17.5" cy="10.5" r=".5"/>
                <circle cx="8.5" cy="7.5" r=".5"/>
                <circle cx="6.5" cy="12.5" r=".5"/>
                <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/>
            </svg>
        );

        const Mail = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                <polyline points="22,6 12,13 2,6"/>
            </svg>
        );

        const CheckCircle = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                <polyline points="22,4 12,14.01 9,11.01"/>
            </svg>
        );

        const AlertCircle = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/>
                <line x1="12" y1="8" x2="12" y2="12"/>
                <line x1="12" y1="16" x2="12.01" y2="16"/>
            </svg>
        );

        const Loader2 = ({ size = 24, className = "" }) => (
            <svg className={`${className} animate-spin`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M21 12a9 9 0 11-6.219-8.56"/>
            </svg>
        );

        const ArrowLeft = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M19 12H5m7-7l-7 7 7 7"/>
            </svg>
        );

        const ArrowRight = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M5 12h14m-7-7l7 7-7 7"/>
            </svg>
        );

        const ChevronDown = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="6,9 12,15 18,9"/>
            </svg>
        );

        const Check = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="20,6 9,17 4,12"/>
            </svg>
        );

        // Image Carousel Component
        const ImageCarousel = () => {
            const [currentSlide, setCurrentSlide] = useState(0);
            const [autoPlay, setAutoPlay] = useState(true);

            const slides = [
                {
                    image: 'https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    title: 'Master the Art of Drawing',
                    description: 'From beginner sketches to advanced techniques'
                },
                {
                    image: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    title: 'Explore Vibrant Painting',
                    description: 'Watercolors, oils, and mixed media'
                },
                {
                    image: 'https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    title: 'Digital Art & Design',
                    description: 'Modern techniques for the digital age'
                },
                {
                    image: 'https://images.unsplash.com/photo-1452457807411-4979b707c5be?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    title: 'Sculpture & 3D Art',
                    description: 'Shape your imagination into reality'
                },
                {
                    image: 'https://images.unsplash.com/photo-1676125105159-517d135a6cc3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwb3R0ZXJ5JTIwY2VyYW1pY3MlMjBjbGFzc3xlbnwxfHx8fDE3NTc2MDg5NTZ8MA&ixlib=rb-4.1.0&q=80&w=1080',
                    title: 'Pottery & Ceramics',
                    description: 'Work with clay and create functional art'
                },
                {
                    image: 'https://images.unsplash.com/photo-1586939735437-d61392bd039b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwcmludG1ha2luZyUyMGFydCUyMHN0dWRpb3xlbnwxfHx8fDE3NTc5NzcyODR8MA&ixlib=rb-4.1.0&q=80&w=1080',
                    title: 'Printmaking & Graphics',
                    description: 'Traditional and modern printing techniques'
                },
                {
                    image: 'https://images.unsplash.com/photo-1702574145861-bcb8227a31bf?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx0ZXh0aWxlJTIwYXJ0JTIwd2VhdmluZ3xlbnwxfHx8fDE3NTc5NzcyODl8MA&ixlib=rb-4.1.0&q=80&w=1080',
                    title: 'Textile Art & Weaving',
                    description: 'Fiber arts, weaving, and fabric design'
                },
                {
                    image: 'https://images.unsplash.com/photo-1575209239550-322a4b125c6d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwaG90b2dyYXBoeSUyMGRhcmtyb29tJTIwZGV2ZWxvcG1lbnR8ZW58MXx8fHwxNzU3OTc3MjkzfDA&ixlib=rb-4.1.0&q=80&w=1080',
                    title: 'Photography & Darkroom',
                    description: 'Film development and digital photography'
                },
                {
                    image: 'https://images.unsplash.com/photo-1598724168411-9ba1e003a7fe?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxqZXdlbHJ5JTIwbWFraW5nJTIwbWV0YWx3b3JraW5nfGVufDF8fHx8MTc1Nzk3NzI5NXww&ixlib=rb-4.1.0&q=80&w=1080',
                    title: 'Jewelry & Metalworking',
                    description: 'Precious metals and stone setting'
                },
                {
                    image: 'https://images.unsplash.com/photo-1696937059409-60900a43bc67?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHhjb2xsYWdlJTIwYXJ0JTIwbWl4ZWQlMjBtZWRpYXxlbnwxfHx8fDE3NTc5NzcyOTh8MA&ixlib=rb-4.1.0&q=80&w=1080',
                    title: 'Mixed Media & Collage',
                    description: 'Combine materials for unique artistic expression'
                }
            ];

            useEffect(() => {
                if (!autoPlay) return;
                
                const interval = setInterval(() => {
                    setCurrentSlide((prev) => (prev + 1) % slides.length);
                }, 4000);

                return () => clearInterval(interval);
            }, [autoPlay, slides.length]);

            const nextSlide = () => {
                setCurrentSlide((prev) => (prev + 1) % slides.length);
            };

            const prevSlide = () => {
                setCurrentSlide((prev) => prev === 0 ? slides.length - 1 : prev - 1);
            };

            const goToSlide = (index) => {
                setCurrentSlide(index);
            };

            return (
                <div className="relative w-full h-full overflow-hidden">
                    {/* Slides */}
                    {slides.map((slide, index) => (
                        <div
                            key={index}
                            className={`absolute inset-0 transition-opacity duration-500 ${
                                index === currentSlide ? 'opacity-100' : 'opacity-0'
                            }`}
                            style={{
                                backgroundImage: `url(${slide.image})`,
                                backgroundSize: 'cover',
                                backgroundPosition: 'center'
                            }}
                        >
                            <div className="absolute inset-0 bg-gradient-to-br from-purple-900/80 via-blue-900/85 to-indigo-900/90"></div>
                        </div>
                    ))}

                    {/* Content Overlay */}
                    <div className="absolute inset-0 flex flex-col items-center justify-center text-white text-center p-8 z-10">
                        <h1 className="text-4xl md:text-5xl font-bold mb-4 text-shadow">
                            Gallagher Art School
                        </h1>
                        <p className="text-lg md:text-xl mb-8 opacity-90">
                            Expert instruction from an MFA Yale graduate
                        </p>
                        <div className="space-y-2">
                            <h2 className="text-2xl font-semibold">
                                {slides[currentSlide]?.title}
                            </h2>
                            <p className="text-lg opacity-80">
                                {slides[currentSlide]?.description}
                            </p>
                        </div>
                    </div>

                    {/* Controls */}
                    <div className="absolute bottom-8 left-1/2 transform -translate-x-1/2 flex items-center gap-4 z-20">
                        <button
                            onClick={prevSlide}
                            className="bg-white/20 backdrop-blur-sm border border-white/30 text-white p-2 rounded-lg hover:bg-white/30 transition-colors"
                        >
                            ‹
                        </button>
                        <button
                            onClick={() => setAutoPlay(!autoPlay)}
                            className="bg-white/20 backdrop-blur-sm border border-white/30 text-white p-2 rounded-lg hover:bg-white/30 transition-colors"
                        >
                            {autoPlay ? '⏸' : '▶'}
                        </button>
                        <button
                            onClick={nextSlide}
                            className="bg-white/20 backdrop-blur-sm border border-white/30 text-white p-2 rounded-lg hover:bg-white/30 transition-colors"
                        >
                            ›
                        </button>
                    </div>

                    {/* Dots */}
                    <div className="absolute bottom-16 left-1/2 transform -translate-x-1/2 flex gap-2 z-20">
                        {slides.map((_, index) => (
                            <button
                                key={index}
                                onClick={() => goToSlide(index)}
                                className={`w-3 h-3 rounded-full transition-all ${
                                    index === currentSlide
                                        ? 'bg-white scale-125'
                                        : 'bg-white/50 hover:bg-white/70'
                                }`}
                            />
                        ))}
                    </div>
                </div>
            );
        };

        // Custom Checkbox Component
        const CustomCheckbox = ({ id, checked, onChange, disabled = false, children }) => (
            <div className="relative">
                <input
                    type="checkbox"
                    id={id}
                    checked={checked}
                    onChange={onChange}
                    disabled={disabled}
                    className="sr-only"
                />
                <label
                    htmlFor={id}
                    className={`flex items-center gap-3 p-3 rounded-lg border-2 transition-all cursor-pointer ${
                        checked
                            ? 'border-blue-500 bg-blue-50'
                            : 'border-gray-200 hover:border-gray-300 bg-white'
                    } ${disabled ? 'opacity-50 cursor-not-allowed' : ''}`}
                >
                    <div
                        className={`w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${
                            checked
                                ? 'bg-blue-500 border-blue-500 text-white'
                                : 'bg-white border-gray-300'
                        }`}
                    >
                        {checked && <Check size={12} />}
                    </div>
                    <span className="text-sm font-medium text-gray-700">{children}</span>
                </label>
            </div>
        );

        // Custom Select Component
        const CustomSelect = ({ value, onChange, placeholder, disabled = false, options }) => (
            <div className="relative">
                <select
                    value={value}
                    onChange={(e) => onChange(e.target.value)}
                    disabled={disabled}
                    className="w-full h-12 px-4 pr-12 bg-white border-2 border-gray-300 rounded-lg text-gray-900 text-sm font-medium appearance-none cursor-pointer focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                    <option value="" disabled className="text-gray-500">
                        {placeholder}
                    </option>
                    {options.map((option) => (
                        <option key={option.value} value={option.value} className="text-gray-900">
                            {option.label}
                        </option>
                    ))}
                </select>
                <ChevronDown className="absolute right-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500 pointer-events-none" />
            </div>
        );

        // Main Signup Form Component
        const SignupForm = () => {
            const [currentStep, setCurrentStep] = useState('personal');
            const [isLoading, setIsLoading] = useState(false);
            const [error, setError] = useState(null);
            const [success, setSuccess] = useState(false);
            const [formData, setFormData] = useState({
                firstName: '',
                lastName: '',
                email: '',
                phone: '',
                experience: '',
                interests: [],
                hearAboutUs: '',
                hearAboutUsOther: '',
                password: '',
                confirmPassword: '',
                newsletter: false,
            });

            const steps = [
                {
                    key: 'personal',
                    title: 'Personal Info',
                    description: 'Tell us about yourself',
                    icon: User,
                },
                {
                    key: 'preferences',
                    title: 'Art Preferences',
                    description: 'What interests you?',
                    icon: Palette,
                },
                {
                    key: 'account',
                    title: 'Create Account',
                    description: 'Set up your login',
                    icon: Mail,
                },
            ];

            const currentStepIndex = steps.findIndex(step => step.key === currentStep);
            const progress = ((currentStepIndex + 1) / steps.length) * 100;

            const experienceOptions = [
                { value: 'beginner', label: 'Complete Beginner' },
                { value: 'some', label: 'Some Experience' },
                { value: 'intermediate', label: 'Intermediate' },
                { value: 'advanced', label: 'Advanced' },
                { value: 'professional', label: 'Professional' },
            ];

            const hearAboutOptions = [
                { value: 'google', label: 'Google Search' },
                { value: 'facebook', label: 'Facebook' },
                { value: 'instagram', label: 'Instagram' },
                { value: 'friend', label: 'Friend/Family' },
                { value: 'flyer', label: 'Flyer/Advertisement' },
                { value: 'other', label: 'Other' },
            ];

            const interestOptions = [
                'Drawing', 'Painting', 'Digital Art', 'Sculpture', 'Pottery & Ceramics', 'Printmaking & Graphics', 
                'Textile Art & Weaving', 'Photography & Darkroom', 'Jewelry & Metalworking', 'Mixed Media & Collage', 
                'Color Theory', 'Art History'
            ];

            const validateStep = (step) => {
                setError(null);
                
                switch (step) {
                    case 'personal':
                        if (!formData.firstName.trim()) {
                            setError('First name is required');
                            return false;
                        }
                        if (!formData.lastName.trim()) {
                            setError('Last name is required');
                            return false;
                        }
                        if (!formData.email.trim()) {
                            setError('Email is required');
                            return false;
                        }
                        if (!/\S+@\S+\.\S+/.test(formData.email)) {
                            setError('Please enter a valid email address');
                            return false;
                        }
                        return true;
                        
                    case 'preferences':
                        if (!formData.experience) {
                            setError('Please select your experience level');
                            return false;
                        }
                        return true;
                        
                    case 'account':
                        if (!formData.hearAboutUs) {
                            setError('Please select how you heard about us');
                            return false;
                        }
                        if (formData.hearAboutUs === 'other' && !formData.hearAboutUsOther.trim()) {
                            setError('Please specify how you heard about us');
                            return false;
                        }
                        if (!formData.password) {
                            setError('Password is required');
                            return false;
                        }
                        if (formData.password.length < 6) {
                            setError('Password must be at least 6 characters long');
                            return false;
                        }
                        if (formData.password !== formData.confirmPassword) {
                            setError('Passwords do not match');
                            return false;
                        }
                        return true;
                        
                    default:
                        return true;
                }
            };

            const handleNext = () => {
                if (!validateStep(currentStep)) return;
                const nextIndex = currentStepIndex + 1;
                if (nextIndex < steps.length) {
                    setCurrentStep(steps[nextIndex].key);
                }
            };

            const handlePrev = () => {
                const prevIndex = currentStepIndex - 1;
                if (prevIndex >= 0) {
                    setCurrentStep(steps[prevIndex].key);
                }
            };

            const handleInterestToggle = (interest) => {
                setFormData(prev => ({
                    ...prev,
                    interests: prev.interests.includes(interest)
                        ? prev.interests.filter(i => i !== interest)
                        : [...prev.interests, interest]
                }));
            };

            const sendWelcomeEmail = async (userData) => {
                try {
                    const response = await fetch('https://api.postmarkapp.com/email', {
                        method: 'POST',
                        headers: {
                            'Accept': 'application/json',
                            'Content-Type': 'application/json',
                            'X-Postmark-Server-Token': POSTMARK_API_TOKEN
                        },
                        body: JSON.stringify({
                            From: POSTMARK_FROM_EMAIL,
                            To: userData.email,
                            Subject: 'Welcome to Gallagher Art School!',
                            HtmlBody: `
                                <h1>Welcome to Gallagher Art School, ${userData.firstName}!</h1>
                                <p>Thank you for joining our art community. We're excited to have you on this creative journey!</p>
                                <p><strong>Your registration details:</strong></p>
                                <ul>
                                    <li>Name: ${userData.firstName} ${userData.lastName}</li>
                                    <li>Email: ${userData.email}</li>
                                    <li>Experience Level: ${userData.experience}</li>
                                    <li>Interests: ${userData.interests.join(', ')}</li>
                                </ul>
                                <p>We'll be in touch soon with class schedules and more information.</p>
                                <p>Best regards,<br>The Gallagher Art School Team</p>
                            `,
                            TextBody: `Welcome to Gallagher Art School, ${userData.firstName}! Thank you for joining our art community.`
                        })
                    });

                    if (!response.ok) {
                        console.error('Failed to send welcome email:', await response.text());
                    }
                } catch (error) {
                    console.error('Email sending error:', error);
                }
            };

            const handleSubmit = async () => {
                if (!validateStep('account')) return;

                setIsLoading(true);
                setError(null);

                try {
                    // Store in Supabase
                    const { data, error: dbError } = await supabase
                        .from('students')
                        .insert([
                            {
                                first_name: formData.firstName,
                                last_name: formData.lastName,
                                email: formData.email,
                                phone: formData.phone,
                                experience: formData.experience,
                                interests: formData.interests,
                                hear_about_us: formData.hearAboutUs,
                                hear_about_us_other: formData.hearAboutUsOther,
                                newsletter: formData.newsletter,
                                created_at: new Date().toISOString()
                            }
                        ]);

                    if (dbError) {
                        throw new Error(dbError.message);
                    }

                    // Send welcome email if Postmark is configured
                    if (POSTMARK_API_TOKEN && POSTMARK_API_TOKEN !== 'YOUR_POSTMARK_API_TOKEN') {
                        await sendWelcomeEmail(formData);
                    }

                    setSuccess(true);
                    console.log('Account created successfully:', data);

                } catch (err) {
                    console.error('Signup error:', err);
                    setError(err.message || 'Failed to create account. Please try again.');
                } finally {
                    setIsLoading(false);
                }
            };

            if (success) {
                return (
                    <div className="w-full max-w-md mx-auto bg-white rounded-xl shadow-lg p-6">
                        <div className="text-center space-y-6 py-8">
                            <CheckCircle className="w-16 h-16 text-green-500 mx-auto" />
                            <div className="space-y-4">
                                <h2 className="text-2xl font-bold text-green-700">
                                    Welcome to Gallagher Art School!
                                </h2>
                                <p className="text-sm text-gray-600">
                                    Your account has been created successfully. We'll be in touch soon!
                                </p>
                                <button 
                                    onClick={() => window.location.reload()} 
                                    className="mt-6 bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg transition-colors"
                                >
                                    Create Another Account
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="w-full max-w-md mx-auto bg-white rounded-xl shadow-lg p-6">
                    <div className="text-center space-y-4 mb-6">
                        {/* Progress Icons */}
                        <div className="flex items-center justify-center space-x-4 mb-4">
                            {steps.map((step, index) => {
                                const Icon = step.icon;
                                const isActive = step.key === currentStep;
                                const isCompleted = index < currentStepIndex;
                                
                                return (
                                    <div key={step.key} className="flex items-center">
                                        <div
                                            className={`w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 ${
                                                isActive
                                                    ? 'bg-black text-white'
                                                    : isCompleted
                                                    ? 'bg-green-500 text-white'
                                                    : 'bg-gray-200 text-gray-400'
                                            }`}
                                        >
                                            <Icon size={20} />
                                        </div>
                                        {index < steps.length - 1 && (
                                            <div className={`w-12 h-0.5 mx-2 transition-colors duration-300 ${
                                                isCompleted ? 'bg-green-500' : 'bg-gray-200'
                                            }`} />
                                        )}
                                    </div>
                                );
                            })}
                        </div>
                        
                        <div className="space-y-2">
                            <h1 className="text-xl font-bold">Join Gallagher Art School</h1>
                            <p className="text-sm text-gray-600">
                                {steps[currentStepIndex].description}
                            </p>
                        </div>
                        
                        {/* Progress Bar */}
                        <div className="w-full bg-gray-200 rounded-full h-2">
                            <div 
                                className="bg-blue-500 h-2 rounded-full transition-all duration-300"
                                style={{ width: `${progress}%` }}
                            ></div>
                        </div>
                    </div>

                    <div className="space-y-6">
                        {error && (
                            <div className="bg-red-50 border border-red-200 rounded-lg p-3 flex items-center gap-2 text-red-700">
                                <AlertCircle size={16} />
                                <span className="text-sm">{error}</span>
                            </div>
                        )}

                        {/* Social Login Options - Only on first step */}
                        {currentStep === 'personal' && (
                            <div className="space-y-4">
                                <div className="grid grid-cols-1 gap-3">
                                    <button className="w-full h-12 bg-white hover:bg-gray-50 border border-gray-300 text-gray-700 text-sm font-medium rounded-lg flex items-center justify-center gap-2 transition-colors">
                                        <svg className="w-4 h-4" viewBox="0 0 24 24">
                                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                                        </svg>
                                        Google
                                    </button>
                                    
                                    <button className="w-full h-12 bg-black hover:bg-gray-900 text-white text-sm font-medium rounded-lg flex items-center justify-center gap-2 transition-colors">
                                        <svg className="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/>
                                        </svg>
                                        Apple
                                    </button>
                                </div>
                                
                                <div className="relative my-6">
                                    <div className="absolute inset-0 flex items-center">
                                        <div className="w-full border-t border-gray-300"></div>
                                    </div>
                                    <div className="relative flex justify-center text-sm uppercase">
                                        <span className="bg-white px-4 text-gray-500 font-medium">
                                            Or continue with email
                                        </span>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Form Steps */}
                        <div className="space-y-4">
                            {currentStep === 'personal' && (
                                <div className="space-y-4">
                                    <div className="grid grid-cols-2 gap-3">
                                        <div className="space-y-2">
                                            <label className="text-sm font-medium text-gray-700">First Name *</label>
                                            <input
                                                type="text"
                                                value={formData.firstName}
                                                onChange={(e) => setFormData({...formData, firstName: e.target.value})}
                                                placeholder="John"
                                                disabled={isLoading}
                                                className="w-full h-10 px-3 border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"
                                            />
                                        </div>
                                        <div className="space-y-2">
                                            <label className="text-sm font-medium text-gray-700">Last Name *</label>
                                            <input
                                                type="text"
                                                value={formData.lastName}
                                                onChange={(e) => setFormData({...formData, lastName: e.target.value})}
                                                placeholder="Doe"
                                                disabled={isLoading}
                                                className="w-full h-10 px-3 border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"
                                            />
                                        </div>
                                    </div>
                                    <div className="space-y-2">
                                        <label className="text-sm font-medium text-gray-700">Email *</label>
                                        <input
                                            type="email"
                                            value={formData.email}
                                            onChange={(e) => setFormData({...formData, email: e.target.value})}
                                            placeholder="john@example.com"
                                            disabled={isLoading}
                                            className="w-full h-10 px-3 border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"
                                        />
                                    </div>
                                    <div className="space-y-2">
                                        <label className="text-sm font-medium text-gray-700">Phone Number</label>
                                        <input
                                            type="tel"
                                            value={formData.phone}
                                            onChange={(e) => setFormData({...formData, phone: e.target.value})}
                                            placeholder="(555) 123-4567"
                                            disabled={isLoading}
                                            className="w-full h-10 px-3 border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"
                                        />
                                    </div>
                                </div>
                            )}

                            {currentStep === 'preferences' && (
                                <div className="space-y-4">
                                    <div className="space-y-2">
                                        <label className="text-sm font-medium text-gray-700">Art Experience Level *</label>
                                        <CustomSelect
                                            value={formData.experience}
                                            onChange={(value) => setFormData({...formData, experience: value})}
                                            placeholder="Select your experience level"
                                            disabled={isLoading}
                                            options={experienceOptions}
                                        />
                                    </div>
                                    
                                    <div className="space-y-3">
                                        <label className="text-sm font-medium text-gray-700">Areas of Interest (select all that apply)</label>
                                        <div className="grid grid-cols-1 gap-2">
                                            {interestOptions.map((interest) => (
                                                <CustomCheckbox
                                                    key={interest}
                                                    id={interest}
                                                    checked={formData.interests.includes(interest)}
                                                    onChange={() => handleInterestToggle(interest)}
                                                    disabled={isLoading}
                                                >
                                                    {interest}
                                                </CustomCheckbox>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            )}

                            {currentStep === 'account' && (
                                <div className="space-y-4">
                                    <div className="space-y-2">
                                        <label className="text-sm font-medium text-gray-700">How did you hear about us? *</label>
                                        <CustomSelect
                                            value={formData.hearAboutUs}
                                            onChange={(value) => setFormData({...formData, hearAboutUs: value, hearAboutUsOther: value === 'other' ? formData.hearAboutUsOther : ''})}
                                            placeholder="Select how you heard about us"
                                            disabled={isLoading}
                                            options={hearAboutOptions}
                                        />
                                    </div>

                                    {formData.hearAboutUs === 'other' && (
                                        <div className="space-y-2">
                                            <label className="text-sm font-medium text-gray-700">Please specify</label>
                                            <input
                                                type="text"
                                                value={formData.hearAboutUsOther}
                                                onChange={(e) => setFormData({...formData, hearAboutUsOther: e.target.value})}
                                                placeholder="How did you hear about us?"
                                                disabled={isLoading}
                                                className="w-full h-10 px-3 border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"
                                            />
                                        </div>
                                    )}

                                    <div className="space-y-2">
                                        <label className="text-sm font-medium text-gray-700">Password *</label>
                                        <input
                                            type="password"
                                            value={formData.password}
                                            onChange={(e) => setFormData({...formData, password: e.target.value})}
                                            placeholder="Enter your password"
                                            disabled={isLoading}
                                            className="w-full h-10 px-3 border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"
                                        />
                                    </div>
                                    
                                    <div className="space-y-2">
                                        <label className="text-sm font-medium text-gray-700">Confirm Password *</label>
                                        <input
                                            type="password"
                                            value={formData.confirmPassword}
                                            onChange={(e) => setFormData({...formData, confirmPassword: e.target.value})}
                                            placeholder="Confirm your password"
                                            disabled={isLoading}
                                            className="w-full h-10 px-3 border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"
                                        />
                                    </div>
                                    
                                    <div className="space-y-3">
                                        <CustomCheckbox
                                            id="newsletter"
                                            checked={formData.newsletter}
                                            onChange={() => setFormData({...formData, newsletter: !formData.newsletter})}
                                            disabled={isLoading}
                                        >
                                            Subscribe to our newsletter for art tips and class updates
                                        </CustomCheckbox>
                                    </div>
                                </div>
                            )}
                        </div>

                        {/* Navigation Buttons */}
                        <div className="flex justify-between pt-6">
                            <button
                                type="button"
                                onClick={handlePrev}
                                disabled={currentStepIndex === 0 || isLoading}
                                className="flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
                            >
                                <ArrowLeft size={16} />
                                Back
                            </button>

                            {currentStepIndex < steps.length - 1 ? (
                                <button
                                    type="button"
                                    onClick={handleNext}
                                    disabled={isLoading}
                                    className="flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
                                >
                                    Next
                                    <ArrowRight size={16} />
                                </button>
                            ) : (
                                <button
                                    type="button"
                                    onClick={handleSubmit}
                                    disabled={isLoading}
                                    className="flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
                                >
                                    {isLoading ? (
                                        <>
                                            <Loader2 size={16} />
                                            Creating Account...
                                        </>
                                    ) : (
                                        <>
                                            Create Account
                                            <CheckCircle size={16} />
                                        </>
                                    )}
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        // Main App Component
        const App = () => {
            return (
                <div className="min-h-screen">
                    {/* Configuration Notice */}
                    {(SUPABASE_URL === 'YOUR_SUPABASE_URL' || SUPABASE_ANON_KEY === 'YOUR_SUPABASE_ANON_KEY') && (
                        <div className="bg-yellow-500 text-white text-center py-2 px-4 text-sm">
                            <strong>Setup Required:</strong> Please configure your Supabase credentials in the script section
                        </div>
                    )}
                    
                    {/* DESKTOP LAYOUT - Split Screen */}
                    <div className="hidden lg:flex min-h-screen">
                        {/* LEFT PANEL - CAROUSEL (50% width on desktop) */}
                        <div className="w-1/2 h-screen">
                            <ImageCarousel />
                        </div>

                        {/* RIGHT PANEL - SIGNUP FORM (50% width on desktop) */}
                        <div className="w-1/2 min-h-screen bg-gray-50 flex items-center justify-center p-6">
                            <SignupForm />
                        </div>
                    </div>

                    {/* MOBILE LAYOUT - Stacked (Form on top, Carousel on bottom) */}
                    <div className="lg:hidden min-h-screen flex flex-col">
                        
                        {/* MOBILE FORM - On top */}
                        <div className="flex-1 bg-gray-50 flex items-center justify-center p-6">
                            <SignupForm />
                        </div>

                        {/* MOBILE CAROUSEL - On bottom */}
                        <div className="h-64">
                            <ImageCarousel />
                        </div>

                    </div>
                </div>
            );
        };

        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>